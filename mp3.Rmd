dplyr---
title: "Mini Project 3"
author: "Emily Kim, Dasom An, Janell Lin"
date: "4/8/2018"
output: html_document
---

```{r}

#Install macleish
#devtools::install_github("beanumber/macleish")


library(tidyverse)
library(macleish)

library (dplyr)

library(sf)
macleish_layers[["buildings"]]

lapply(macleish_layers, class)

macleish_layers[["buildings"]] %>%
  plot()

trails <- macleish_layers[["trails"]] %>%
  mutate(computed_length = st_length(geometry))

macleish_layers[["trails"]]

head(trails)

plot(macleish_layers[["trails"]])

macleish_layers[["landmarks"]]
plot(macleish_layers[["landmarks"]])

trails_1<- trails %>%
  group_by(name) %>%
  summarize(num_segments = n(), 
            total_length = sum(computed_length)) %>%
  arrange(desc(total_length))
View (trails)


```


```{r}

#elevation

library(macleish)
packageVersion("macleish")

names(macleish_layers)

library(sf)
contours <- st_read("CONTOURS250K_ARC.shp")

#streams_inside <- macleish_layers[["boundary"]] %>%
#  st_intersection(macleish_layers[["streams"]])

st_crs(elevation)
st_crs(trails)

library (sf)

library (raster)
the_crs <- crs(trails, asText = TRUE)

elevation_crs <- st_transform(trails, crs = the_crs)

```

Data for elevation:
http://maps-massgis.opendata.arcgis.com/datasets/84ecbf026489446c8562df038c352772_0
http://download.massgis.digital.mass.gov/shapefiles/state/contours250k.zip
```{r}
##source data
url <- "http://download.massgis.digital.mass.gov/shapefiles/state/contours250k.zip"
local_file <- basename(url)
download.file(url, destfile = local_file)
unzip(local_file, exdir = "contours250k")
```

```{r fig.show="hold", fig.width=3}
#put all the figures together
```

